<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>제품 가격 & 물류 정보 계산기</title>
  <style>
    body { font-family: sans-serif; max-width: 900px; margin: 20px auto; }
    h1 { font-size: 20px; margin-bottom: 10px; }
    .section { border: 1px solid #ddd; padding: 16px; margin-bottom: 16px; border-radius: 8px; }
    .row { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .row label { width: 200px; }
    .row input { flex: 1; padding: 4px 6px; }
    .result { font-weight: bold; }
  </style>
</head>
<body>

<h1>제품 가격 & 물류 정보 계산기 (심비오시스 내부용)</h1>

<div class="section">
  <h2>B. 제품 가격 & 물류 정보</h2>

  <div class="row">
    <label for="productPriceYuan">제품 개당 가격 (위안)</label>
    <input type="number" id="productPriceYuan" value="0" step="0.01">
  </div>

  <div class="row">
    <label for="qtyPerBox">박스당 수량 (개)</label>
    <input type="number" id="qtyPerBox" value="0">
  </div>

  <div class="row">
    <label for="boxCount">박스 수량 (박스)</label>
    <input type="number" id="boxCount" value="0">
  </div>

  <div class="row">
    <label for="cbm">CBM (체적 m³)</label>
    <input type="number" id="cbm" value="0" step="0.0001">
  </div>

  <div class="row">
    <label for="seaFreight">해운비 (원)</label>
    <input type="number" id="seaFreight" value="0">
  </div>

  <div class="row">
    <label for="krDomestic">한국 내륙운송비 (원)</label>
    <input type="number" id="krDomestic" value="0">
  </div>

  <div class="row">
    <label for="exchangeRate">환율 (원/위안)</label>
    <input type="number" id="exchangeRate" value="200">
  </div>

  <div class="row">
    <label for="tariffRate">관세율 (%)</label>
    <input type="number" id="tariffRate" value="8">
  </div>

</div>

<div class="section">
  <h2>결과</h2>

  <div class="row">
    <label>총 수량 (개)</label>
    <div class="result" id="totalQty">0 개</div>
  </div>

  <div class="row">
    <label>상품 금액 합계 (원)</label>
    <div class="result" id="totalProductWon">0 원</div>
  </div>

  <div class="row">
    <label>관세 (원)</label>
    <div class="result" id="tariffWon">0 원</div>
  </div>

  <div class="row">
    <label>총 원가 (상품+관세+운송비, 원)</label>
    <div class="result" id="totalCostWon">0 원</div>
  </div>

  <div class="row">
    <label>개당 원가 (원/개)</label>
    <div class="result" id="unitCostWon">0 원</div>
  </div>
</div>

<script>
  const inputs = document.querySelectorAll("input");
  inputs.forEach(el => el.addEventListener("input", calculate));

  function valueOf(id) {
    const v = parseFloat(document.getElementById(id).value);
    return isNaN(v) ? 0 : v;
  }

  function formatWon(num) {
    return num.toLocaleString("ko-KR", { maximumFractionDigits: 2 });
  }

  function calculate() {
    const priceYuan   = valueOf("productPriceYuan");
    const qtyPerBox   = valueOf("qtyPerBox");
    const boxCount    = valueOf("boxCount");
    const cbm         = valueOf("cbm");          // 아직은 안씀 (확장용)
    const seaFreight  = valueOf("seaFreight");
    const krDomestic  = valueOf("krDomestic");
    const exchange    = valueOf("exchangeRate");
    const tariffRate  = valueOf("tariffRate") / 100;

    const totalQty = qtyPerBox * boxCount;

    // 1) 중국 상품금액(위안) → 원화
    const totalProductYuan = priceYuan * totalQty;
    const totalProductWon  = totalProductYuan * exchange;

    // 2) 관세 (예시: 상품금액 기준)
    const tariffWon = totalProductWon * tariffRate;

    // 3) 총 원가 = 상품금액 + 관세 + 운송비(해운+국내)
    const totalCostWon = totalProductWon + tariffWon + seaFreight + krDomestic;

    // 4) 개당 원가
    const unitCostWon = totalQty > 0 ? totalCostWon / totalQty : 0;

    document.getElementById("totalQty").textContent        = `${totalQty.toLocaleString("ko-KR")} 개`;
    document.getElementById("totalProductWon").textContent = `${formatWon(totalProductWon)} 원`;
    document.getElementById("tariffWon").textContent       = `${formatWon(tariffWon)} 원`;
    document.getElementById("totalCostWon").textContent    = `${formatWon(totalCostWon)} 원`;
    document.getElementById("unitCostWon").textContent     = `${formatWon(unitCostWon)} 원`;
  }

  // 초기 계산
  calculate();
</script>

</body>
</html>
